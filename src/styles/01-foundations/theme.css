/* src/styles/theme.css - FIXED THEME SYSTEM WITH PROPER DARK MODE */

:root {
  /* === LIGHT MODE (Default) === */
  
  /* Primary Backgrounds */
  --color-bg-app: #ffffff;            /* Pure white app background */
  --color-bg-card: #ffffff;           /* Card backgrounds */
  --color-bg-subtle: #f8f6f4;         /* Subtle warm tint */
  --color-bg-interactive: #f0ede9;     /* Interactive elements */
  
  /* Text Colors - Enhanced Contrast */
  --color-text-primary: #2d2520;      /* Primary text - very dark brown */
  --color-text-secondary: #5a4d46;    /* Secondary text */
  --color-text-muted: #8a7b72;        /* Muted text */
  --color-text-body: #3d342e;         /* Body text */
  --color-text-inverted: #ffffff;     /* White text for dark backgrounds */
  
  /* Borders */
  --color-border: #e6ddd4;            /* Default borders */
  --color-border-soft: #f0e8df;       /* Very soft borders */
  --color-border-hover: #d4c5b8;      /* Hover borders */
  
  /* === REFINED VIBRANT SYSTEM (Softer & More Balanced) === */
  
  /* Primary Accent - Warm Peach (Much Softer) */
  --color-accent-primary: #E5744A;         /* Softer orange-peach */
  --color-accent-primary-light: #F8E6DC;   /* Very light peach background */
  --color-accent-primary-dark: #D4653B;    /* Darker peach */
  --color-accent-primary-hover: #EA8B65;   /* Gentle hover state */
  
  /* Secondary Accent - Soft Golden */
  --color-accent-secondary: #D4A574;       /* Muted golden */
  --color-accent-secondary-light: #F4EDE3; /* Light golden background */
  --color-accent-secondary-dark: #C19660;  /* Darker golden */
  --color-accent-secondary-hover: #DCB288;  /* Hover state */
  
  /* Tertiary Accent - Subtle Rose (For Special Occasions) */
  --color-accent-tertiary: #C67B7B;        /* Muted rose */
  --color-accent-tertiary-light: #F0E6E6;  /* Light rose background */
  --color-accent-tertiary-dark: #B36A6A;   /* Darker rose */
  
  /* Support Accent - Calm Sage */
  --color-accent-support: #7BA68C;         /* Soft sage green */
  --color-accent-support-light: #E8F0EC;   /* Light sage background */
  --color-accent-support-dark: #6A957B;    /* Darker sage */
  
  /* === REFINED GRADIENTS (Much Softer) === */
  --gradient-energy: linear-gradient(135deg, #E5744A 0%, #D4A574 100%);
  --gradient-celebration: linear-gradient(135deg, #C67B7B 0%, #E5744A 100%);
  --gradient-growth: linear-gradient(135deg, #D4A574 0%, #7BA68C 100%);
  --gradient-gentle: linear-gradient(135deg, #F8E6DC 0%, #F4EDE3 100%);
  
  /* === SEMANTIC COLORS === */
  --color-success: #4A9B6B;           /* Muted success green */
  --color-success-light: #E8F4ED;     /* Light success background */
  --color-warning: #D4A574;           /* Use soft golden for warnings */
  --color-warning-light: #F4EDE3;     /* Light warning background */
  --color-error: #C67B7B;             /* Soft error red */
  --color-error-light: #F0E6E6;       /* Light error background */
  --color-info: #6B8CB5;              /* Soft info blue */
  --color-info-light: #E6ECEF;        /* Light info background */
  
  /* === PULSE ANIMATION COLOR (Key Fix) === */
  --pulse-color: #F8E6DC;             /* Very soft peach for pulse */
  --pulse-shadow: rgba(229, 116, 74, 0.15); /* Subtle peach shadow */
  
  /* === LEGACY SUPPORT === */
  --color-primary: var(--color-accent-primary);
  --color-primary-light: var(--color-accent-primary-light);
  --color-primary-dark: var(--color-accent-primary-dark);
  --color-primary-border: #F0D5C5;
}

/* === DARK MODE (Completely Redesigned) === */
[data-theme="dark"] {
  /* Dark Backgrounds - True Black Base */
  --color-bg-app: #000000;            /* Pure black background */
  --color-bg-card: #1a1614;           /* Very dark warm cards */
  --color-bg-subtle: #2d2520;         /* Subtle dark tint */
  --color-bg-interactive: #3a332e;     /* Interactive dark elements */
  
  /* Dark Text - High Contrast */
  --color-text-primary: #f5f0eb;      /* Near-white primary text */
  --color-text-secondary: #c9beb5;    /* Light secondary text */
  --color-text-muted: #8a7b72;        /* Muted text (same as light) */
  --color-text-body: #e0d5cc;         /* Light body text */
  --color-text-inverted: #000000;     /* Black text for light backgrounds */
  
  /* Dark Borders */
  --color-border: #3a332e;            /* Dark borders */
  --color-border-soft: #2d2520;       /* Very dark borders */
  --color-border-hover: #4a3d37;      /* Hover borders */
  
  /* Vibrant Accents - Slightly Brighter in Dark Mode */
  --color-accent-primary: #F2845C;         /* Brighter peach for contrast */
  --color-accent-primary-light: #2d1f1a;   /* Dark peach background */
  --color-accent-primary-dark: #E5744A;    /* Standard peach */
  --color-accent-primary-hover: #F5956F;   /* Bright hover */
  
  --color-accent-secondary: #E0B584;       /* Brighter golden */
  --color-accent-secondary-light: #2a231c; /* Dark golden background */
  --color-accent-secondary-dark: #D4A574;  /* Standard golden */
  
  --color-accent-tertiary: #D48A8A;        /* Brighter rose */
  --color-accent-tertiary-light: #2a1f1f;  /* Dark rose background */
  
  --color-accent-support: #8BB89C;         /* Brighter sage */
  --color-accent-support-light: #1f2721;   /* Dark sage background */
  
  /* Dark Mode Pulse Color */
  --pulse-color: #2d1f1a;             /* Dark peach for pulse */
  --pulse-shadow: rgba(242, 132, 92, 0.2); /* Brighter peach shadow */
  
  /* Semantic Colors for Dark Mode */
  --color-success: #5BAC7B;           /* Brighter success */
  --color-success-light: #1a2520;     /* Dark success background */
  --color-warning: #E0B584;           /* Brighter warning */
  --color-warning-light: #2a231c;     /* Dark warning background */
  --color-error: #D48A8A;             /* Brighter error */
  --color-error-light: #2a1f1f;       /* Dark error background */
  --color-info: #7B9CC5;              /* Brighter info */
  --color-info-light: #1c2229;        /* Dark info background */
}

/* === AUTOMATIC DARK MODE DETECTION (Removed - Use Manual Toggle) === */
/* We'll control dark mode via data-theme attribute instead of @media queries */

/* === IMPROVED FOCUS & INTERACTION === */
:root {
  --focus-ring: 0 0 0 3px rgba(229, 116, 74, 0.3);
  --focus-ring-error: 0 0 0 3px rgba(198, 123, 123, 0.3);
  --focus-ring-success: 0 0 0 3px rgba(74, 155, 107, 0.3);
}

[data-theme="dark"] {
  --focus-ring: 0 0 0 3px rgba(242, 132, 92, 0.4);
  --focus-ring-error: 0 0 0 3px rgba(212, 138, 138, 0.4);
  --focus-ring-success: 0 0 0 3px rgba(91, 172, 123, 0.4);
}

/* === LANGUAGE BUTTON CONTRAST FIX === */
.header-language button {
  color: var(--color-text-primary);
  background: var(--color-bg-interactive);
  border: 1px solid var(--color-border);
  transition: all 0.2s ease;
}

.header-language button:not(.active) {
  color: var(--color-text-secondary);
  background: var(--color-bg-subtle);
}

.header-language button:not(.active):hover {
  color: var(--color-text-primary);
  background: var(--color-bg-interactive);
}

.header-language button.active {
  color: var(--color-accent-primary);
  background: var(--color-accent-primary-light);
  border-color: var(--color-accent-primary);
}

/* === MEASUREMENT ITEM NON-INTERACTIVE FIX === */
.measurement-item {
  cursor: default; /* Remove pointer cursor */
  transition: none; /* Remove hover transitions */
}

.measurement-item:hover {
  background: var(--color-bg-card); /* No hover effect */
  border-color: var(--color-border-soft);
  transform: none;
}

/* === DEEMPHASIZED ITEMS FIX === */
.measurement-item-deemphasized {
  background: var(--color-bg-subtle);
  color: var(--color-text-muted);
  border: 1px solid var(--color-border-soft);
  opacity: 0.7;
}

[data-theme="dark"] .measurement-item-deemphasized {
  background: var(--color-bg-subtle);
  color: var(--color-text-muted);
  opacity: 0.6; /* More faded in dark mode */
}

/* === OFFICIAL BORDER SOFTENING === */
.accordion-measurement-card.official {
  border-color: var(--color-border-hover); /* Much softer border */
  background: var(--color-bg-card); /* Standard background */
}

.accordion-measurement-card.official .official-strip {
  background: var(--color-accent-primary-light); /* Softer strip color */
  width: 4px; /* Thinner strip */
}

/* === UTILITY CLASSES === */
.soft-accent { color: var(--color-accent-primary); }
.soft-background { background: var(--color-accent-primary-light); }
.soft-border { border-color: var(--color-accent-primary-light); }

/* === HIGH CONTRAST MODE === */
@media (prefers-contrast: high) {
  :root {
    --color-text-primary: #000000;
    --color-bg-card: #ffffff;
    --color-border: #000000;
    --color-accent-primary: #B85A32;
  }
  
  [data-theme="dark"] {
    --color-text-primary: #ffffff;
    --color-bg-card: #000000;
    --color-border: #ffffff;
    --color-accent-primary: #FF9466;
  }
}